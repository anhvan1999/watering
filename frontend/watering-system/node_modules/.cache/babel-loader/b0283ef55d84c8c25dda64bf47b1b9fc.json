{"ast":null,"code":"var _jsxFileName = \"/home/trongtrung/Shoto-kun/TTDADN/watering-system/frontend/watering-system/src/components/user-info/DeleteAccountButton.js\";\nimport React from 'react';\nimport { useRouteMatch, useHistory, Link } from 'react-router-dom'; // Utils\n\nimport { getClassName } from '../../utils/component-utils';\nimport { logout } from '../../service/auth-service';\nimport { connect } from 'react-redux'; // Style\n\nimport style from './userinfo.module.scss';\nimport axios from '../../utils/axios-instance';\n\nclass DeleteAccountButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userToken: this.props.token\n    };\n  }\n\n  alertDelete() {\n    let modal = document.getElementById(\"DeleteForm\");\n    modal.style.display = \"block\";\n  }\n\n  cancelButtonEvent() {\n    let modal = document.getElementById(\"DeleteForm\");\n    modal.style.display = \"none\";\n  }\n\n  deleteButtonEvent() {\n    let modal = document.getElementById(\"DeleteForm\");\n    modal.style.display = \"none\";\n    axios.put('/user/info/delete', {\n      headers: {\n        'Authorization': `jwt ${this.state.userToken}`\n      }\n    }).then(res => {\n      console(\"Delete Success\");\n      logout();\n      return /*#__PURE__*/React.createElement(Link, {\n        to: \"/app\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 14\n        }\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      id: \"DeleteBtn\",\n      className: \"btn btn-danger\",\n      onClick: this.alertDelete,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }\n    }, \"DELETE ACCOUNT\"), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"DeleteForm\",\n      className: style.CustomForm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: style.RemindFormContent,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: style.FormAlertHeader,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 15\n      }\n    }, \" Alert \")), /*#__PURE__*/React.createElement(\"div\", {\n      className: style.BodyForm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 15\n      }\n    }, \"Do you want to delete your account?\")), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.deleteButtonEvent,\n      className: getClassName(\"btn btn-danger\", style.ButtonMargin),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }\n    }, \"YES\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.cancelButtonEvent,\n      className: getClassName(\"btn btn-danger\", style.ButtonMargin),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }\n    }, \"NO\"))));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  let result = {\n    sensor: state.sensor,\n    token: state.user.jwtToken\n  };\n  return result;\n}\n\nexport default connect(mapStateToProps, null)(DeleteAccountButton);","map":{"version":3,"sources":["/home/trongtrung/Shoto-kun/TTDADN/watering-system/frontend/watering-system/src/components/user-info/DeleteAccountButton.js"],"names":["React","useRouteMatch","useHistory","Link","getClassName","logout","connect","style","axios","DeleteAccountButton","Component","constructor","props","state","userToken","token","alertDelete","modal","document","getElementById","display","cancelButtonEvent","deleteButtonEvent","put","headers","then","res","console","catch","error","log","render","CustomForm","RemindFormContent","FormAlertHeader","BodyForm","ButtonMargin","mapStateToProps","result","sensor","user","jwtToken"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useRouteMatch, useHistory, Link } from 'react-router-dom';\n// Utils\nimport { getClassName } from '../../utils/component-utils';\nimport { logout } from '../../service/auth-service';\nimport { connect } from 'react-redux';\n// Style\nimport style from './userinfo.module.scss';\nimport axios from '../../utils/axios-instance';\n\nclass DeleteAccountButton extends React.Component {\n  constructor(props)\n  {\n    super(props);\n    this.state = {\n      userToken : this.props.token\n    }\n  }\n  alertDelete() {\n    let modal = document.getElementById(\"DeleteForm\");\n    modal.style.display = \"block\";\n  }\n\n  cancelButtonEvent() {\n    let modal = document.getElementById(\"DeleteForm\");\n    modal.style.display = \"none\";\n  }\n\n  deleteButtonEvent() {\n    let modal = document.getElementById(\"DeleteForm\");\n    modal.style.display = \"none\";\n    axios.put('/user/info/delete',{\n      headers: {\n        'Authorization': `jwt ${this.state.userToken}`\n    }\n    }).then(res=>{\n      console(\"Delete Success\");\n      logout();\n      return <Link to=\"/app\"></Link>;\n    }\n    ).catch(error=>{\n      console.log(error);\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"col text-center\">\n        <button type=\"button\" id=\"DeleteBtn\" className=\"btn btn-danger\" onClick={this.alertDelete}>DELETE ACCOUNT</button>\n        <div id=\"DeleteForm\" className={style.CustomForm}>\n          <div className={style.RemindFormContent}>\n            <div className={style.FormAlertHeader}>\n              <h3> Alert </h3>\n            </div>\n            <div className={style.BodyForm}>\n              <p>Do you want to delete your account?</p>\n            </div>\n            <button type=\"button\" onClick={this.deleteButtonEvent} className={getClassName(\"btn btn-danger\", style.ButtonMargin)}>YES</button>\n            <button type=\"button\" onClick={this.cancelButtonEvent} className={getClassName(\"btn btn-danger\", style.ButtonMargin)}>NO</button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nfunction mapStateToProps(state) {\n  let result = {\n      sensor: state.sensor,\n      token: state.user.jwtToken\n  };\n  return result;\n}\nexport default connect(mapStateToProps,null)(DeleteAccountButton);"]},"metadata":{},"sourceType":"module"}