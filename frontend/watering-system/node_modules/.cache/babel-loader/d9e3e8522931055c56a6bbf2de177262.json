{"ast":null,"code":"var _jsxFileName = \"/home/trongtrung/Shoto-kun/TTDADN/watering-system/frontend/watering-system/src/components/login-page/LoginForm.js\";\nimport React, { useState } from 'react';\nimport { FaUserCircle, FaKey, FaRegAddressBook } from 'react-icons/fa';\nimport { usernamePasswordLogin } from '../../service/auth-service';\nimport { getClassName } from '../../utils/component-utils';\nimport { useRouteMatch, useHistory } from 'react-router-dom';\nimport style from './login.module.scss';\nexport default function LoginForm(props) {\n  // State of component\n  let [username, setUsername] = useState('');\n  let [password, setPassword] = useState('');\n  let [usernameValid, setUsernameValid] = useState(true);\n  let [passwordValid, setPasswordValid] = useState(true);\n  let [allValid, setAllValid] = useState(true);\n  let {\n    path\n  } = useRouteMatch();\n  let history = useHistory(); // Handle login button click\n\n  let loginBtnHandle = () => {\n    let valid = true;\n\n    if (username === '') {\n      valid = false;\n      setUsernameValid(false);\n    }\n\n    if (password === '') {\n      valid = false;\n      setPasswordValid(false);\n    }\n\n    if (!valid) {\n      setAllValid(false);\n      return;\n    }\n\n    usernamePasswordLogin(username, password, () => {\n      if (path === '/login') {\n        history.push('/app');\n      }\n    }, err => {\n      setAllValid(false);\n    });\n  };\n\n  let changeHandle = (setValue, setValid) => {\n    return event => {\n      setValue(event.target.value);\n      setValid(event.target.value !== '');\n    };\n  }; // usernamePasswordLogin('superuser', 'watering');\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: getClassName(\"card\", style.LoginCard),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"text-center text-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FaRegAddressBook, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 50\n    }\n  }), \" \\u0110\\u0103ng nh\\u1EADp\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"username\",\n    className: \"col-12 col-form-label text-secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FaUserCircle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 88\n    }\n  }), \" T\\xE0i kho\\u1EA3n\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"username\",\n    onChange: changeHandle(setUsername, setUsernameValid),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: getClassName(\"col-12 invalid-feedback\", usernameValid ? '' : 'd-flex'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, \"Username kh\\xF4ng h\\u1EE3p l\\u1EC7\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    className: \"col-12 col-form-label text-secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FaKey, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 88\n    }\n  }), \" M\\u1EADt kh\\u1EA9u\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    className: \"form-control\",\n    id: \"password\",\n    onChange: changeHandle(setPassword, setPasswordValid),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: getClassName(\"col-12 invalid-feedback\", passwordValid ? '' : 'd-flex'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, \"Password kh\\xF4ng h\\u1EE3p l\\u1EC7\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    className: \"col-12 col-form-label text-secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FaKey, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 88\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 104\n    }\n  }, \"Qu\\xEAn m\\u1EADt kh\\u1EA9u?\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary w-100\",\n    onClick: loginBtnHandle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 15\n    }\n  }, \"\\u0110\\u0103ng Nh\\u1EADp\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: getClassName(\"col-12 invalid-feedback\", allValid ? '' : 'd-flex'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, \"\\u0110\\u0103ng nh\\u1EADp kh\\xF4ng th\\xE0nh c\\xF4ng, vui l\\xF2ng nh\\u1EADp th\\xF4ng tin h\\u1EE3p l\\u1EC7\")))));\n}\n;","map":{"version":3,"sources":["/home/trongtrung/Shoto-kun/TTDADN/watering-system/frontend/watering-system/src/components/login-page/LoginForm.js"],"names":["React","useState","FaUserCircle","FaKey","FaRegAddressBook","usernamePasswordLogin","getClassName","useRouteMatch","useHistory","style","LoginForm","props","username","setUsername","password","setPassword","usernameValid","setUsernameValid","passwordValid","setPasswordValid","allValid","setAllValid","path","history","loginBtnHandle","valid","push","err","changeHandle","setValue","setValid","event","target","value","LoginCard"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { FaUserCircle, FaKey, FaRegAddressBook } from 'react-icons/fa';\nimport { usernamePasswordLogin } from '../../service/auth-service';\nimport { getClassName } from '../../utils/component-utils';\nimport { useRouteMatch, useHistory } from 'react-router-dom';\n\nimport style from './login.module.scss';\n\nexport default function LoginForm(props) {\n  // State of component\n  let [username, setUsername] = useState('');\n  let [password, setPassword] = useState('');\n  let [usernameValid, setUsernameValid] = useState(true);\n  let [passwordValid, setPasswordValid] = useState(true);\n  let [allValid, setAllValid] = useState(true);\n  let { path } = useRouteMatch();\n  let history = useHistory();\n\n  // Handle login button click\n  let loginBtnHandle = () => {\n    let valid = true;\n\n    if (username === '') {\n      valid = false;\n      setUsernameValid(false);\n    }\n\n    if (password === '') {\n      valid = false;\n      setPasswordValid(false);\n    }\n\n    if (!valid) {\n      setAllValid(false);\n      return;\n    }\n\n    usernamePasswordLogin(username, password, () => {\n      if (path === '/login') {\n        history.push('/app');\n      }\n    }, (err) => {\n      setAllValid(false);\n    })\n  };\n\n  let changeHandle = (setValue, setValid) => {\n    return (event) => {\n      setValue(event.target.value);\n      setValid(event.target.value !== '');\n    };\n  };\n\n  // usernamePasswordLogin('superuser', 'watering');\n  return (\n    <div className={getClassName(\"card\", style.LoginCard)}>\n      <div className=\"card-header\">\n        <h3 className=\"text-center text-primary\"><FaRegAddressBook></FaRegAddressBook> Đăng nhập</h3>\n      </div>\n      <div className=\"card-body\">\n        <div>\n          <div className=\"form-group row\">\n            <label htmlFor=\"username\" className=\"col-12 col-form-label text-secondary\"><FaUserCircle></FaUserCircle> Tài khoản</label>\n            <div className=\"col-12\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                id=\"username\"\n                onChange={changeHandle(setUsername, setUsernameValid)} />\n            </div>\n            <div className={getClassName(\"col-12 invalid-feedback\", (usernameValid ? '' : 'd-flex'))}>\n              Username không hợp lệ\n            </div>\n          </div>\n          <div className=\"form-group row\">\n            <label htmlFor=\"password\" className=\"col-12 col-form-label text-secondary\"><FaKey></FaKey> Mật khẩu</label>\n            <div className=\"col-12\">\n              <input\n                type=\"password\"\n                className=\"form-control\"\n                id=\"password\"\n                onChange={changeHandle(setPassword, setPasswordValid)} />\n            </div>\n            <div className={getClassName(\"col-12 invalid-feedback\", (passwordValid ? '' : 'd-flex'))}>\n              Password không hợp lệ\n            </div>\n          </div>\n          <div className=\"form-group row\">\n            <label htmlFor=\"password\" className=\"col-12 col-form-label text-secondary\"><FaKey></FaKey> <a href=\"#\">Quên mật khẩu?</a></label>\n            <div className=\"d-flex justify-content-between col-12\">\n              <button className=\"btn btn-primary w-100\" onClick={loginBtnHandle}>Đăng Nhập</button>\n            </div>\n            <div className={getClassName(\"col-12 invalid-feedback\", (allValid ? '' : 'd-flex'))}>\n              Đăng nhập không thành công, vui lòng nhập thông tin hợp lệ\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}